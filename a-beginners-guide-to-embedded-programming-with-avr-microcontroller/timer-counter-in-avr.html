<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Counter/Timer | SANTOSH DAHAL</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async="async"></script>
    <script>
       (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6356177594937247",
    enable_page_level_ads: true
  });
    </script>
    <meta name="description" content="The counters are basically what they sound like—they keep on count of how many times some event happens and event in term of embedded is a pin or internal source has changed its voltage level.">
    <meta name="twitter:title" content="Counter/Timer">
    <meta name="twitter:description" content="The counters are basically what they sound like—they keep on count of how many times some event happens and event in term of embedded is a pin or internal source has changed its voltage level.">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://www.suntos.com.np/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/timer-counter-in-avr.html">
    <meta name="twitter:site" content="@IMSdahal">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Counter/Timer">
    <meta property="og:description" content="The counters are basically what they sound like—they keep on count of how many times some event happens and event in term of embedded is a pin or internal source has changed its voltage level.">
    <meta property="og:url" content="https://www.suntos.com.np/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/timer-counter-in-avr.html">
    <meta property="og:site_name" content="Santosh Dahal">
    <meta itemprop="name" content="Counter/Timer">
    <meta itemprop="description" content="The counters are basically what they sound like—they keep on count of how many times some event happens and event in term of embedded is a pin or internal source has changed its voltage level.">
    <meta name="msvalidate.01" content="DEBC46DE5780BB248603A3691FAF28C9">
    <meta name="google-site-verification" content="c2al3aJPT-Rv_1iyfytLUfEf_Mc5_N06Pfb8H-spn00">
    <meta name="msapplication-TileImage" ccontent="/ms-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
    <link rel="preload" href="/assets/css/0.styles.c707e939.css" as="style"><link rel="preload" href="/assets/js/app.b9d4e7ea.js" as="script"><link rel="preload" href="/assets/js/3.32f2e6ee.js" as="script"><link rel="preload" href="/assets/js/20.8db96560.js" as="script"><link rel="prefetch" href="/assets/js/10.641e508c.js"><link rel="prefetch" href="/assets/js/100.52fdb349.js"><link rel="prefetch" href="/assets/js/101.e40e4d8d.js"><link rel="prefetch" href="/assets/js/102.addec789.js"><link rel="prefetch" href="/assets/js/103.0cc34dbe.js"><link rel="prefetch" href="/assets/js/104.1970f50e.js"><link rel="prefetch" href="/assets/js/105.7406ee39.js"><link rel="prefetch" href="/assets/js/106.dfe90b8d.js"><link rel="prefetch" href="/assets/js/107.ae03384f.js"><link rel="prefetch" href="/assets/js/108.dfd9d31e.js"><link rel="prefetch" href="/assets/js/109.fa564a9d.js"><link rel="prefetch" href="/assets/js/11.f616fc6b.js"><link rel="prefetch" href="/assets/js/110.18c287b6.js"><link rel="prefetch" href="/assets/js/111.e6b4d1f3.js"><link rel="prefetch" href="/assets/js/112.7f9534fe.js"><link rel="prefetch" href="/assets/js/113.e8e2a7f4.js"><link rel="prefetch" href="/assets/js/114.6ffd5c4b.js"><link rel="prefetch" href="/assets/js/115.90e7b9bd.js"><link rel="prefetch" href="/assets/js/116.49c4a636.js"><link rel="prefetch" href="/assets/js/117.298449d2.js"><link rel="prefetch" href="/assets/js/118.0473cb0f.js"><link rel="prefetch" href="/assets/js/119.53c2a836.js"><link rel="prefetch" href="/assets/js/12.2e3b6d0b.js"><link rel="prefetch" href="/assets/js/120.5b2546b9.js"><link rel="prefetch" href="/assets/js/121.d72340b0.js"><link rel="prefetch" href="/assets/js/122.15ead973.js"><link rel="prefetch" href="/assets/js/123.8e3cacb8.js"><link rel="prefetch" href="/assets/js/124.db55bd79.js"><link rel="prefetch" href="/assets/js/125.d2109866.js"><link rel="prefetch" href="/assets/js/126.cd5a284d.js"><link rel="prefetch" href="/assets/js/127.9eb61236.js"><link rel="prefetch" href="/assets/js/128.6560bafc.js"><link rel="prefetch" href="/assets/js/129.962abcfb.js"><link rel="prefetch" href="/assets/js/13.00afb70b.js"><link rel="prefetch" href="/assets/js/130.4de3219c.js"><link rel="prefetch" href="/assets/js/131.f8f5b8d0.js"><link rel="prefetch" href="/assets/js/132.d2c4e56f.js"><link rel="prefetch" href="/assets/js/133.3981616a.js"><link rel="prefetch" href="/assets/js/134.f88e8cf6.js"><link rel="prefetch" href="/assets/js/135.486273a8.js"><link rel="prefetch" href="/assets/js/136.e7c2670f.js"><link rel="prefetch" href="/assets/js/137.03494e3a.js"><link rel="prefetch" href="/assets/js/138.49d51531.js"><link rel="prefetch" href="/assets/js/139.044e23ef.js"><link rel="prefetch" href="/assets/js/14.69ff453f.js"><link rel="prefetch" href="/assets/js/15.465c91da.js"><link rel="prefetch" href="/assets/js/16.8575963f.js"><link rel="prefetch" href="/assets/js/17.c99943ec.js"><link rel="prefetch" href="/assets/js/18.f16cf776.js"><link rel="prefetch" href="/assets/js/19.c45782b7.js"><link rel="prefetch" href="/assets/js/21.6b34bf8e.js"><link rel="prefetch" href="/assets/js/22.5a6e4eea.js"><link rel="prefetch" href="/assets/js/23.2f70099d.js"><link rel="prefetch" href="/assets/js/24.c4df263b.js"><link rel="prefetch" href="/assets/js/25.1c6c3585.js"><link rel="prefetch" href="/assets/js/26.89ee6620.js"><link rel="prefetch" href="/assets/js/27.fad443aa.js"><link rel="prefetch" href="/assets/js/28.529afeb8.js"><link rel="prefetch" href="/assets/js/29.7c2bbdb7.js"><link rel="prefetch" href="/assets/js/30.5a882feb.js"><link rel="prefetch" href="/assets/js/31.7fb653eb.js"><link rel="prefetch" href="/assets/js/32.a89462bb.js"><link rel="prefetch" href="/assets/js/33.4e04a9c4.js"><link rel="prefetch" href="/assets/js/34.5835c1ba.js"><link rel="prefetch" href="/assets/js/35.568de355.js"><link rel="prefetch" href="/assets/js/36.9b10ba5b.js"><link rel="prefetch" href="/assets/js/37.fa5cd517.js"><link rel="prefetch" href="/assets/js/38.650f4616.js"><link rel="prefetch" href="/assets/js/39.3ab2791c.js"><link rel="prefetch" href="/assets/js/4.1900e11a.js"><link rel="prefetch" href="/assets/js/40.14ab0f25.js"><link rel="prefetch" href="/assets/js/41.4d166fe3.js"><link rel="prefetch" href="/assets/js/42.2f897565.js"><link rel="prefetch" href="/assets/js/43.d39cab03.js"><link rel="prefetch" href="/assets/js/44.5699d0e8.js"><link rel="prefetch" href="/assets/js/45.99c2450b.js"><link rel="prefetch" href="/assets/js/46.74f24b16.js"><link rel="prefetch" href="/assets/js/47.34905afd.js"><link rel="prefetch" href="/assets/js/48.092952b0.js"><link rel="prefetch" href="/assets/js/49.1612531c.js"><link rel="prefetch" href="/assets/js/5.8adab335.js"><link rel="prefetch" href="/assets/js/50.58fe1f0d.js"><link rel="prefetch" href="/assets/js/51.2e3a03bf.js"><link rel="prefetch" href="/assets/js/52.edf46f06.js"><link rel="prefetch" href="/assets/js/53.7504e1db.js"><link rel="prefetch" href="/assets/js/54.097cef3d.js"><link rel="prefetch" href="/assets/js/55.7a021ca7.js"><link rel="prefetch" href="/assets/js/56.ec91cd50.js"><link rel="prefetch" href="/assets/js/57.ecc98989.js"><link rel="prefetch" href="/assets/js/58.bd02c8e7.js"><link rel="prefetch" href="/assets/js/59.f793c46e.js"><link rel="prefetch" href="/assets/js/6.f73babb5.js"><link rel="prefetch" href="/assets/js/60.abb49391.js"><link rel="prefetch" href="/assets/js/61.da57dd14.js"><link rel="prefetch" href="/assets/js/62.be235428.js"><link rel="prefetch" href="/assets/js/63.4040c335.js"><link rel="prefetch" href="/assets/js/64.aa9d84af.js"><link rel="prefetch" href="/assets/js/65.ae2fd98e.js"><link rel="prefetch" href="/assets/js/66.5997dcd2.js"><link rel="prefetch" href="/assets/js/67.96820e48.js"><link rel="prefetch" href="/assets/js/68.e51a7f42.js"><link rel="prefetch" href="/assets/js/69.65d0527f.js"><link rel="prefetch" href="/assets/js/7.f7d7e41e.js"><link rel="prefetch" href="/assets/js/70.af375bb8.js"><link rel="prefetch" href="/assets/js/71.74c11c24.js"><link rel="prefetch" href="/assets/js/72.0cfb080b.js"><link rel="prefetch" href="/assets/js/73.a4496fdc.js"><link rel="prefetch" href="/assets/js/74.1120e77a.js"><link rel="prefetch" href="/assets/js/75.5cf8a6bf.js"><link rel="prefetch" href="/assets/js/76.01182de6.js"><link rel="prefetch" href="/assets/js/77.d77808b0.js"><link rel="prefetch" href="/assets/js/78.d0e20db4.js"><link rel="prefetch" href="/assets/js/79.a928eb50.js"><link rel="prefetch" href="/assets/js/8.095f95fc.js"><link rel="prefetch" href="/assets/js/80.265f75c9.js"><link rel="prefetch" href="/assets/js/81.92fb9bdb.js"><link rel="prefetch" href="/assets/js/82.fc545cdd.js"><link rel="prefetch" href="/assets/js/83.d3e47c02.js"><link rel="prefetch" href="/assets/js/84.fee65ded.js"><link rel="prefetch" href="/assets/js/85.2af1521a.js"><link rel="prefetch" href="/assets/js/86.64d4fe43.js"><link rel="prefetch" href="/assets/js/87.2956a90a.js"><link rel="prefetch" href="/assets/js/88.6ccebd33.js"><link rel="prefetch" href="/assets/js/89.be95c496.js"><link rel="prefetch" href="/assets/js/9.20302103.js"><link rel="prefetch" href="/assets/js/90.4086f581.js"><link rel="prefetch" href="/assets/js/91.c2cffd03.js"><link rel="prefetch" href="/assets/js/92.279b92c6.js"><link rel="prefetch" href="/assets/js/93.87e3a74e.js"><link rel="prefetch" href="/assets/js/94.e0e0a16a.js"><link rel="prefetch" href="/assets/js/95.d0ff6a34.js"><link rel="prefetch" href="/assets/js/96.95ee6e7b.js"><link rel="prefetch" href="/assets/js/97.f550ba8b.js"><link rel="prefetch" href="/assets/js/98.e65ecf8a.js"><link rel="prefetch" href="/assets/js/99.36a72b30.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.02b6005f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c707e939.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">SANTOSH DAHAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/" class="sidebar-link">A beginners guide to embedded programming with AVR microcontroller</a></li><li><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/detail-of-avr-microcontroller.html" class="sidebar-link">Detail of AVR microcontroller</a></li><li><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/basic-development-tools-setup.html" class="sidebar-link">Basic development tools setup</a></li><li><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/hello-world-program-avr.html" class="sidebar-link">Hello World Program</a></li><li><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/digitally-programming-the-pin.html" class="sidebar-link">Digitally Programming The Pin</a></li><li><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/interrupt-avr.html" class="sidebar-link">Interrupt</a></li><li><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/timer-counter-in-avr.html" class="active sidebar-link">Counter/Timer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/timer-counter-in-avr.html#what-is-counter-timer" class="sidebar-link">What is Counter/Timer ?</a></li><li class="sidebar-sub-header"><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/timer-counter-in-avr.html#what-is-counter-timer-application" class="sidebar-link">What is Counter/Timer application ?</a></li><li class="sidebar-sub-header"><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/timer-counter-in-avr.html#what-are-type-of-counter-timer-and-their-number-present" class="sidebar-link">What are Type of Counter/Timer and their number present ?</a></li><li class="sidebar-sub-header"><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/timer-counter-in-avr.html#how-does-counter-timer-work" class="sidebar-link">How Does Counter/Timer work ?</a></li><li class="sidebar-sub-header"><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/timer-counter-in-avr.html#step-to-use-counter-and-timer-for-only-overflow-mode" class="sidebar-link">Step to use Counter and Timer (for only overflow  mode) ?</a></li><li class="sidebar-sub-header"><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/timer-counter-in-avr.html#demo-program" class="sidebar-link">DEMO PROGRAM</a></li><li class="sidebar-sub-header"><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/timer-counter-in-avr.html#practise-question" class="sidebar-link">PRACTISE QUESTION</a></li></ul></li><li><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/adc-in-avr.html" class="sidebar-link">ADC</a></li><li><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/eeprom-in-avr.html" class="sidebar-link">EEPROM</a></li></ul> </aside> <main class="page"> <div class="content__default"><h1 id="counter-timer-in-avr"><a href="#counter-timer-in-avr" class="header-anchor">#</a> Counter/Timer in AVR</h1> <h2 id="what-is-counter-timer"><a href="#what-is-counter-timer" class="header-anchor">#</a> What is Counter/Timer ?</h2> <p>The counters are basically what they sound like—they keep on count of how many times some event happens and event in term of embedded is a pin or internal source has changed its voltage level.</p> <h2 id="what-is-counter-timer-application"><a href="#what-is-counter-timer-application" class="header-anchor">#</a> What is Counter/Timer application ?</h2> <p>The simplest counter application is counting the how many times the  button is pressed . Basic work with counter are time related project like <code>digital clock</code> , <code>reminder</code> or <code>alarm clock</code> .</p> <p>Counters really come into their own when paired up with clocks, and this is why they’re often referred to as timer. With a clock and a counter, you can measure either how long some event takes, or the event’s frequency.</p> <p>Letting your code to use  the timer/counter hardware lets you do things with a precision and speed that you couldn’t performed before, or even just to do two things at once.</p> <h2 id="what-are-type-of-counter-timer-and-their-number-present"><a href="#what-are-type-of-counter-timer-and-their-number-present" class="header-anchor">#</a> What are Type of Counter/Timer and their number present ?</h2> <p>The timer/counter peripherals provide more functionality than you would have thought. Which is great, because there are three of them.</p> <ol><li><b>Timer 0 (8 bit) </b>: Can count upto 2^8 = 255</li> <li><b>Timer 1 (16 bit)</b> : can count upto 2^16 = 65536</li> <li><b>Timer 2 (8 bit )</b> : can count upto 2^8 = 255</li></ol> <h2 id="how-does-counter-timer-work"><a href="#how-does-counter-timer-work" class="header-anchor">#</a> How Does Counter/Timer work ?</h2> <h3 id="type-of-the-register"><a href="#type-of-the-register" class="header-anchor">#</a> Type of the register :</h3> <ol><li><b>Control register (TCCRn)</b> : It direct’s Counter Register to count , clear and the direction of counting (increment and decrement) .</li> <li><b>Counter register (TCNTn)</b> : It store the counting values</li> <li><b>Compare register (OCRn)</b> : It store the  value that is compared with Counter value which is used to generate different waveform or this can be used to generate internal interrupt request (will also set the Compare Flag (OCF0) ).</li> <li><b>Timer Interrupt Mask Register (TIMSK)</b> : shared by all counter ,This enable the interrupt for the counter whenever it reached desired value .</li> <li><b>Timer Interrupt Flag Register (TIFR)</b> : shared by all counter , This store the whenever the counter reached desired value or whether the interrupt have been occured .</li></ol> <h3 id="mode-of-operation"><a href="#mode-of-operation" class="header-anchor">#</a> Mode of operation :</h3> <ol><li><p><b>Normal  Mode or Overflow mode</b> :
In this mode desired function is when the counting reached maximum value automatically or any desired value by polling.</p></li> <li><p><b>CTC Mode</b> :
In this mode desired function is when the counting reached desired value  without pooling .</p></li> <li><p><b>Pulse Width Modulation  Mode</b> : This is used for generating Pulse Width Modulation . Pulse width modulation, or pulse-duration modulation, is a method of reducing the average power delivered by an electrical signal, by effectively chopping it up into discrete parts</p></li></ol> <h2 id="step-to-use-counter-and-timer-for-only-overflow-mode"><a href="#step-to-use-counter-and-timer-for-only-overflow-mode" class="header-anchor">#</a> Step to use Counter and Timer (for only overflow  mode) ?</h2> <p>//add demo program steps like interrupts</p> <ol><li><p><b>Select Clock or Event  Source</b> :The Timer/Counter can be clocked internally, via the prescaler, or by an external clock source on the T0/T1 pin.The clock source is selected by the clock select logic which is controlled by the clock select (CSn2:0) bits located in the Timer/Counter Control Register (TCCRn).</p></li> <li><p>Enable interrupt in TIMSK Register  if necessary or poll the TIFR register TOVn flag and perform the function whenever the  counter reach user defined value</p></li></ol> <p>//todo write how to do frequency ,  count and timing relation .</p> <h2 id="demo-program"><a href="#demo-program" class="header-anchor">#</a> DEMO PROGRAM</h2> <h2 id="practise-question"><a href="#practise-question" class="header-anchor">#</a> PRACTISE QUESTION</h2> <ul><li>WAP to  led on  for three click on switch  ?</li> <li>WAP to  led on  for overflow from clock   on 50ms?</li></ul> <p>HINT : Make student program bottom question by setting with them ?</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/interrupt-avr.html" class="prev">
          Interrupt
        </a></span> <span class="next"><a href="/a-beginners-guide-to-embedded-programming-with-avr-microcontroller/adc-in-avr.html">
          ADC
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><div class="reading-progress top" data-v-21b39eda><div class="progress" data-v-21b39eda></div></div><!----></div></div>
    <script src="/assets/js/app.b9d4e7ea.js" defer></script><script src="/assets/js/3.32f2e6ee.js" defer></script><script src="/assets/js/20.8db96560.js" defer></script>
  </body>
</html>
