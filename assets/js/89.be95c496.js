(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{435:function(e,t,a){"use strict";a.r(t);var s=a(6),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"opening-a-file-in-c"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#opening-a-file-in-c"}},[e._v("#")]),e._v(" Opening a file in c")]),e._v(" "),a("p",[e._v("A file must be opened before any I/O operation can be performed on that file .")]),e._v(" "),a("p",[e._v("The process of establishing a connection between the program and the file is called opening the file")]),e._v(" "),a("p",[e._v("A structure named FILE Is defined in the file stdio.h that contains all information about the file like name , status , buffer size , current position , end of file status etc .")]),e._v(" "),a("InPageAds"),e._v(" "),a("p",[e._v("All these details are hidden from the programmer and the operating system takes care of all these things.")]),e._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("typedef")]),e._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("struct")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n…………"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("\n……………\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" FILE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[e._v("A file pointer is a pointer to a structure of type FILE . Whenever a file is opened , a structure of type FILE is associated with it , and a file pointer that points to this structure identifies this file .")]),e._v(" "),a("p",[e._v("The function fopen() is used to open a file\nDeclaration")]),e._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[e._v("FILE "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("fopen")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("char")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v("filename "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("char")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v("mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("blockquote",[a("p",[e._v("fopen() function takes two string as arguments , the first one is the name of the file to be opened and the second one is the mode that describes which operations ( read , write , append etc) are to be performed on the file .")])]),e._v(" "),a("p",[e._v("On success , fopen() returns a pointer of type FILE and on error it returns NULL .")]),e._v(" "),a("p",[e._v("The return value of fopen() is assigned to the pointer declared previously .")]),e._v(" "),a("p",[e._v("For example")]),e._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[e._v("FILE "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v("fp1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v("fp2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nFp1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("fopen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("“myfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("txt”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("”w”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nFp2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("fopen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("“myfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dat”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("”r”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[e._v("The name of the file is limited to FILENAME_MAX characters .")]),e._v(" "),a("p",[e._v("After opening the file with fopen() , the name of file is not used in the program for any operation on it .")]),e._v(" "),a("p",[e._v("whenever we have to performed any operation on the file we will use pointer returned by fopen() function .")]),e._v(" "),a("p",[e._v("so the original name is called external name but the file pointer associated with it is called internal name.")]),e._v(" "),a("p",[e._v("The second argument represent the mode in which file is opened .")]),e._v(" "),a("h2",{attrs:{id:"modes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#modes"}},[e._v("#")]),e._v(" Modes")]),e._v(" "),a("h3",{attrs:{id:"w-write"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#w-write"}},[e._v("#")]),e._v(" “w”(write)")]),e._v(" "),a("p",[e._v("If the file does not exit then this mode create a new file and if the file is already exist then previous data is erased and new data entered is written to the file")]),e._v(" "),a("h3",{attrs:{id:"a-append"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-append"}},[e._v("#")]),e._v(" “a”(append)")]),e._v(" "),a("p",[e._v("If the file does not exit then this mode create a new file and if the file is already exist then new data is appended at the end of file . In this mode , the data existing in the file is not erased as in previous mode.")]),e._v(" "),a("h3",{attrs:{id:"r-read"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#r-read"}},[e._v("#")]),e._v(" “r”(read)")]),e._v(" "),a("p",[e._v("This mode is used to read existing data in the file . File must exist for this operation and data is not erased")]),e._v(" "),a("h3",{attrs:{id:"w-write-read"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#w-write-read"}},[e._v("#")]),e._v(" “w+”(write+read)")]),e._v(" "),a("p",[e._v("This mode is similar to the write mode but here we can also read and modify the data . If the file does not exit then this mode create a new file and if the file is already exist then previous data is erased and new data entered is written to the file")]),e._v(" "),a("h3",{attrs:{id:"r-read-write"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#r-read-write"}},[e._v("#")]),e._v(" “r+”(read+write)")]),e._v(" "),a("p",[e._v("This mode is similar to the read mode but here we can also write and modify the data .File must exist for this operation and data is not erased . Since we can add new data and modify existing data so this mode is also called update mode.")]),e._v(" "),a("h3",{attrs:{id:"a-append-read"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-append-read"}},[e._v("#")]),e._v(" “a+”(append+read)")]),e._v(" "),a("p",[e._v("This mode is similar to the append mode but here we can also read the data stored in the file . If the file does not exit then this mode create a new file and if the file is already exist then new data is appended at the end of file . In this mode , the data existing in the file is not erased as in previous mode.")]),e._v(" "),a("InPageAds"),e._v(" "),a("p",[e._v("To open a file in binary mode we can append ‘b’ to the mode , and to open the file in text mode ‘t’ can be appended to the mode .")]),e._v(" "),a("p",[e._v("But since text mode is the default mode , ‘t’ is generally omitted while opening files in text mode . For example-")]),e._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[e._v("“wb” "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v(" Binary file opened in write mode\n\n“ab"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v("” or “a"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("+")]),e._v("b” "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v(" Binary file opened in append mode\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("h2",{attrs:{id:"errors-in-opening-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#errors-in-opening-files"}},[e._v("#")]),e._v(" Errors in Opening Files")]),e._v(" "),a("p",[e._v("If an error occurs in opening the file , than fopen() return null . So we can check for any errors in opening by checking the return value of fopen() .")]),e._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[e._v("FILE "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v("fp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nfp "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("fopen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("“myfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dat”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("”w”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("fp "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("==")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[e._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("printf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("“error in opening file”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("exit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("p",[e._v("Errors in opening a file may occur due to various reasons , for example-")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("If we try to open a file in a read or update mode , and the file does not exist or we do not have read permission on that file")])]),e._v(" "),a("li",[a("p",[e._v("If we try to create a file and there is no space on the disk , then we do not have write permission")])]),e._v(" "),a("li",[a("p",[e._v("Operating system limit the number of file that can be opened at a time and we are trying to open more file than that limit\nAlert")])])]),e._v(" "),a("p",[e._v("We can give full pathname to open a file . Suppose we want to open a file DOS whose path is ”f:\\file\\myfile.dat” , then we have to write as –")]),e._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[e._v("fp "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("fopen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("”f"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v("\\\\file\\\\myfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dat”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" “r”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("Here we have used double backslash inside string is considered as an escape character , ‘\\f’ and ‘\\m’ are regarded as escape sequence if we use single backslash . In Unix , a single forward slash can be used")]),e._v(" "),a("p",[e._v("Never give the mode single quotes , since it is string not a character constant")]),e._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("fopen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("”f"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v("\\\\file\\\\myfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dat”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" ‘r’"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//ERROR")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])])],1)}),[],!1,null,null,null);t.default=n.exports}}]);