<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>File handling in c program - 1 | SANTOSH DAHAL</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async="async"></script>
    <script>
       (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6356177594937247",
    enable_page_level_ads: true
  });
    </script>
    <meta name="description" content="main()
   {
       FILE *f1;
       char c;
       printf("Data Input\n\n");
    	 /* Open the file INPUT */
       f1 = fopen("INPUT", "w");">
    <meta name="twitter:title" content="File handling in c program - 1">
    <meta name="twitter:description" content="main()
   {
       FILE *f1;
       char c;
       printf("Data Input\n\n");
    	 /* Open the file INPUT */
       f1 = fopen("INPUT", "w");">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://www.suntos.com.np/learnc/file-handling-in-c-program-1.html">
    <meta name="twitter:site" content="@IMSdahal">
    <meta property="og:type" content="article">
    <meta property="og:title" content="File handling in c program - 1">
    <meta property="og:description" content="main()
   {
       FILE *f1;
       char c;
       printf("Data Input\n\n");
    	 /* Open the file INPUT */
       f1 = fopen("INPUT", "w");">
    <meta property="og:url" content="https://www.suntos.com.np/learnc/file-handling-in-c-program-1.html">
    <meta property="og:site_name" content="Santosh Dahal">
    <meta itemprop="name" content="File handling in c program - 1">
    <meta itemprop="description" content="main()
   {
       FILE *f1;
       char c;
       printf("Data Input\n\n");
    	 /* Open the file INPUT */
       f1 = fopen("INPUT", "w");">
    <meta name="msvalidate.01" content="DEBC46DE5780BB248603A3691FAF28C9">
    <meta name="google-site-verification" content="c2al3aJPT-Rv_1iyfytLUfEf_Mc5_N06Pfb8H-spn00">
    <meta name="msapplication-TileImage" ccontent="/ms-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
    <link rel="preload" href="/assets/css/0.styles.c707e939.css" as="style"><link rel="preload" href="/assets/js/app.b9d4e7ea.js" as="script"><link rel="preload" href="/assets/js/3.32f2e6ee.js" as="script"><link rel="preload" href="/assets/js/88.6ccebd33.js" as="script"><link rel="preload" href="/assets/js/9.20302103.js" as="script"><link rel="prefetch" href="/assets/js/10.641e508c.js"><link rel="prefetch" href="/assets/js/100.52fdb349.js"><link rel="prefetch" href="/assets/js/101.e40e4d8d.js"><link rel="prefetch" href="/assets/js/102.addec789.js"><link rel="prefetch" href="/assets/js/103.0cc34dbe.js"><link rel="prefetch" href="/assets/js/104.1970f50e.js"><link rel="prefetch" href="/assets/js/105.7406ee39.js"><link rel="prefetch" href="/assets/js/106.dfe90b8d.js"><link rel="prefetch" href="/assets/js/107.ae03384f.js"><link rel="prefetch" href="/assets/js/108.dfd9d31e.js"><link rel="prefetch" href="/assets/js/109.fa564a9d.js"><link rel="prefetch" href="/assets/js/11.f616fc6b.js"><link rel="prefetch" href="/assets/js/110.18c287b6.js"><link rel="prefetch" href="/assets/js/111.e6b4d1f3.js"><link rel="prefetch" href="/assets/js/112.7f9534fe.js"><link rel="prefetch" href="/assets/js/113.e8e2a7f4.js"><link rel="prefetch" href="/assets/js/114.6ffd5c4b.js"><link rel="prefetch" href="/assets/js/115.90e7b9bd.js"><link rel="prefetch" href="/assets/js/116.49c4a636.js"><link rel="prefetch" href="/assets/js/117.298449d2.js"><link rel="prefetch" href="/assets/js/118.0473cb0f.js"><link rel="prefetch" href="/assets/js/119.53c2a836.js"><link rel="prefetch" href="/assets/js/12.2e3b6d0b.js"><link rel="prefetch" href="/assets/js/120.5b2546b9.js"><link rel="prefetch" href="/assets/js/121.d72340b0.js"><link rel="prefetch" href="/assets/js/122.15ead973.js"><link rel="prefetch" href="/assets/js/123.8e3cacb8.js"><link rel="prefetch" href="/assets/js/124.db55bd79.js"><link rel="prefetch" href="/assets/js/125.d2109866.js"><link rel="prefetch" href="/assets/js/126.cd5a284d.js"><link rel="prefetch" href="/assets/js/127.9eb61236.js"><link rel="prefetch" href="/assets/js/128.6560bafc.js"><link rel="prefetch" href="/assets/js/129.962abcfb.js"><link rel="prefetch" href="/assets/js/13.00afb70b.js"><link rel="prefetch" href="/assets/js/130.4de3219c.js"><link rel="prefetch" href="/assets/js/131.f8f5b8d0.js"><link rel="prefetch" href="/assets/js/132.d2c4e56f.js"><link rel="prefetch" href="/assets/js/133.3981616a.js"><link rel="prefetch" href="/assets/js/134.f88e8cf6.js"><link rel="prefetch" href="/assets/js/135.486273a8.js"><link rel="prefetch" href="/assets/js/136.e7c2670f.js"><link rel="prefetch" href="/assets/js/137.03494e3a.js"><link rel="prefetch" href="/assets/js/138.49d51531.js"><link rel="prefetch" href="/assets/js/139.044e23ef.js"><link rel="prefetch" href="/assets/js/14.69ff453f.js"><link rel="prefetch" href="/assets/js/15.465c91da.js"><link rel="prefetch" href="/assets/js/16.8575963f.js"><link rel="prefetch" href="/assets/js/17.c99943ec.js"><link rel="prefetch" href="/assets/js/18.f16cf776.js"><link rel="prefetch" href="/assets/js/19.c45782b7.js"><link rel="prefetch" href="/assets/js/20.8db96560.js"><link rel="prefetch" href="/assets/js/21.6b34bf8e.js"><link rel="prefetch" href="/assets/js/22.5a6e4eea.js"><link rel="prefetch" href="/assets/js/23.2f70099d.js"><link rel="prefetch" href="/assets/js/24.c4df263b.js"><link rel="prefetch" href="/assets/js/25.1c6c3585.js"><link rel="prefetch" href="/assets/js/26.89ee6620.js"><link rel="prefetch" href="/assets/js/27.fad443aa.js"><link rel="prefetch" href="/assets/js/28.529afeb8.js"><link rel="prefetch" href="/assets/js/29.7c2bbdb7.js"><link rel="prefetch" href="/assets/js/30.5a882feb.js"><link rel="prefetch" href="/assets/js/31.7fb653eb.js"><link rel="prefetch" href="/assets/js/32.a89462bb.js"><link rel="prefetch" href="/assets/js/33.4e04a9c4.js"><link rel="prefetch" href="/assets/js/34.5835c1ba.js"><link rel="prefetch" href="/assets/js/35.568de355.js"><link rel="prefetch" href="/assets/js/36.9b10ba5b.js"><link rel="prefetch" href="/assets/js/37.fa5cd517.js"><link rel="prefetch" href="/assets/js/38.650f4616.js"><link rel="prefetch" href="/assets/js/39.3ab2791c.js"><link rel="prefetch" href="/assets/js/4.1900e11a.js"><link rel="prefetch" href="/assets/js/40.14ab0f25.js"><link rel="prefetch" href="/assets/js/41.4d166fe3.js"><link rel="prefetch" href="/assets/js/42.2f897565.js"><link rel="prefetch" href="/assets/js/43.d39cab03.js"><link rel="prefetch" href="/assets/js/44.5699d0e8.js"><link rel="prefetch" href="/assets/js/45.99c2450b.js"><link rel="prefetch" href="/assets/js/46.74f24b16.js"><link rel="prefetch" href="/assets/js/47.34905afd.js"><link rel="prefetch" href="/assets/js/48.092952b0.js"><link rel="prefetch" href="/assets/js/49.1612531c.js"><link rel="prefetch" href="/assets/js/5.8adab335.js"><link rel="prefetch" href="/assets/js/50.58fe1f0d.js"><link rel="prefetch" href="/assets/js/51.2e3a03bf.js"><link rel="prefetch" href="/assets/js/52.edf46f06.js"><link rel="prefetch" href="/assets/js/53.7504e1db.js"><link rel="prefetch" href="/assets/js/54.097cef3d.js"><link rel="prefetch" href="/assets/js/55.7a021ca7.js"><link rel="prefetch" href="/assets/js/56.ec91cd50.js"><link rel="prefetch" href="/assets/js/57.ecc98989.js"><link rel="prefetch" href="/assets/js/58.bd02c8e7.js"><link rel="prefetch" href="/assets/js/59.f793c46e.js"><link rel="prefetch" href="/assets/js/6.f73babb5.js"><link rel="prefetch" href="/assets/js/60.abb49391.js"><link rel="prefetch" href="/assets/js/61.da57dd14.js"><link rel="prefetch" href="/assets/js/62.be235428.js"><link rel="prefetch" href="/assets/js/63.4040c335.js"><link rel="prefetch" href="/assets/js/64.aa9d84af.js"><link rel="prefetch" href="/assets/js/65.ae2fd98e.js"><link rel="prefetch" href="/assets/js/66.5997dcd2.js"><link rel="prefetch" href="/assets/js/67.96820e48.js"><link rel="prefetch" href="/assets/js/68.e51a7f42.js"><link rel="prefetch" href="/assets/js/69.65d0527f.js"><link rel="prefetch" href="/assets/js/7.f7d7e41e.js"><link rel="prefetch" href="/assets/js/70.af375bb8.js"><link rel="prefetch" href="/assets/js/71.74c11c24.js"><link rel="prefetch" href="/assets/js/72.0cfb080b.js"><link rel="prefetch" href="/assets/js/73.a4496fdc.js"><link rel="prefetch" href="/assets/js/74.1120e77a.js"><link rel="prefetch" href="/assets/js/75.5cf8a6bf.js"><link rel="prefetch" href="/assets/js/76.01182de6.js"><link rel="prefetch" href="/assets/js/77.d77808b0.js"><link rel="prefetch" href="/assets/js/78.d0e20db4.js"><link rel="prefetch" href="/assets/js/79.a928eb50.js"><link rel="prefetch" href="/assets/js/8.095f95fc.js"><link rel="prefetch" href="/assets/js/80.265f75c9.js"><link rel="prefetch" href="/assets/js/81.92fb9bdb.js"><link rel="prefetch" href="/assets/js/82.fc545cdd.js"><link rel="prefetch" href="/assets/js/83.d3e47c02.js"><link rel="prefetch" href="/assets/js/84.fee65ded.js"><link rel="prefetch" href="/assets/js/85.2af1521a.js"><link rel="prefetch" href="/assets/js/86.64d4fe43.js"><link rel="prefetch" href="/assets/js/87.2956a90a.js"><link rel="prefetch" href="/assets/js/89.be95c496.js"><link rel="prefetch" href="/assets/js/90.4086f581.js"><link rel="prefetch" href="/assets/js/91.c2cffd03.js"><link rel="prefetch" href="/assets/js/92.279b92c6.js"><link rel="prefetch" href="/assets/js/93.87e3a74e.js"><link rel="prefetch" href="/assets/js/94.e0e0a16a.js"><link rel="prefetch" href="/assets/js/95.d0ff6a34.js"><link rel="prefetch" href="/assets/js/96.95ee6e7b.js"><link rel="prefetch" href="/assets/js/97.f550ba8b.js"><link rel="prefetch" href="/assets/js/98.e65ecf8a.js"><link rel="prefetch" href="/assets/js/99.36a72b30.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.02b6005f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c707e939.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">SANTOSH DAHAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/learnc/" class="sidebar-link">C language</a></li><li><a href="/learnc/cubesumprogramc.html" class="sidebar-link">Cube sum program  of individual digit of number in c with description</a></li><li><a href="/learnc/check-prime-number-recursive-function.html" class="sidebar-link">Check prime number using recursive function</a></li><li><a href="/learnc/stringinc.html" class="sidebar-link">what everybody ought to know about string in c.</a></li><li><a href="/learnc/sort-string-in-ascending-decending.html" class="sidebar-link">Sort character of string in ascending or descending order</a></li><li><a href="/learnc/patterninc.html" class="sidebar-link">Print  pattern in c  - explore new perspectives in pattern printing</a></li><li><a href="/learnc/pattern-c-number-pattern-1.html" class="sidebar-link">print pattern in c - number pattern -1</a></li><li><a href="/learnc/pattern-c-number-pattern-2.html" class="sidebar-link">Print pattern in c - number pattern -2</a></li><li><a href="/learnc/pattern-c-number-pattern-3.html" class="sidebar-link">Print pattern in c - number pattern -3</a></li><li><a href="/learnc/pattern-c-number-pattern-4.html" class="sidebar-link">Print pattern in c - number pattern -4</a></li><li><a href="/learnc/pattern-c-number-pattern-5.html" class="sidebar-link">Print pattern in c - number pattern -5</a></li><li><a href="/learnc/pattern-c-number-pattern-6.html" class="sidebar-link">Print pattern in c - number pattern -6</a></li><li><a href="/learnc/pattern-c-number-pattern-7.html" class="sidebar-link">Print pattern in c - number pattern -7</a></li><li><a href="/learnc/pattern-c-number-pattern-8.html" class="sidebar-link">Print pattern in c - number pattern -8</a></li><li><a href="/learnc/pattern-c-number-pattern-9.html" class="sidebar-link">Print pattern in c - number pattern -9</a></li><li><a href="/learnc/textfilevsbinaryfile.html" class="sidebar-link">Difference between text file and binary file</a></li><li><a href="/learnc/openingfileinc.html" class="sidebar-link">Opening a file in c</a></li><li><a href="/learnc/file-handling-in-c-program-1.html" class="active sidebar-link">File handling in c program - 1</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learnc/file-handling-in-c-program-1.html#writing-to-and-reading-from-a-file" class="sidebar-link">WRITING TO AND READING FROM A FILE</a></li><li class="sidebar-sub-header"><a href="/learnc/file-handling-in-c-program-1.html#handling-of-integer-data-files" class="sidebar-link">HANDLING OF INTEGER DATA FILES</a></li><li class="sidebar-sub-header"><a href="/learnc/file-handling-in-c-program-1.html#error-handling-in-file-operations" class="sidebar-link">ERROR HANDLING IN FILE OPERATIONS</a></li><li class="sidebar-sub-header"><a href="/learnc/file-handling-in-c-program-1.html#appending-items-to-an-existing-file" class="sidebar-link">APPENDING ITEMS TO AN EXISTING FILE</a></li></ul></li><li><a href="/learnc/structure-learning-novices-advance-programmer.html" class="sidebar-link">Structure Learning for  both novices and advanced programmers</a></li><li><a href="/learnc/defining-structure-c.html" class="sidebar-link">Defining a Structure</a></li><li><a href="/learnc/copy-constructor-c.html" class="sidebar-link">Copy Constructor</a></li><li><a href="/learnc/templates.html" class="sidebar-link">Templates</a></li><li><a href="/learnc/exception-handling-c-language.html" class="sidebar-link">Exception Handling</a></li><li><a href="/learnc/c-inputoutput-streams.html" class="sidebar-link">C++ Input/Output Streams</a></li></ul> </aside> <main class="page"> <div class="content__default"><h1 id="filehandling-in-c-program-1"><a href="#filehandling-in-c-program-1" class="header-anchor">#</a> Filehandling in c program - 1</h1> <h2 id="writing-to-and-reading-from-a-file"><a href="#writing-to-and-reading-from-a-file" class="header-anchor">#</a> WRITING TO AND READING FROM A FILE</h2> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property">#<span class="token directive keyword">include</span>                                                </span>
                                                                    
   <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                                           
   <span class="token punctuation">{</span> 
       FILE <span class="token operator">*</span>f1<span class="token punctuation">;</span>                                                    
       <span class="token keyword">char</span> c<span class="token punctuation">;</span>                                                      
       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Data Input\n\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	 <span class="token comment">/* Open the file INPUT */</span>                                     
       f1 <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;INPUT&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
   	 <span class="token comment">/* Get a character from keyboard   */</span>                                                                   
       <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token operator">=</span><span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> 

     <span class="token comment">/* Write a character to INPUT  */</span>  
           <span class="token function">putc</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span>     
       <span class="token comment">/* Close the file INPUT   */</span>                                                                
       <span class="token function">fclose</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span>                 
       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\nData Output\n\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
       <span class="token comment">/* Reopen the file INPUT    */</span>                             
       f1 <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;INPUT&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    

      <span class="token comment">/* Read a character from INPUT*/</span>                                                                  
       <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token operator">=</span><span class="token function">getc</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> 

      <span class="token comment">/* Display a character on screen */</span>  
           <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>     

   <span class="token comment">/* Close the file INPUT       */</span>  
       <span class="token function">fclose</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span>                
   <span class="token punctuation">}</span>                                                                
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="handling-of-integer-data-files"><a href="#handling-of-integer-data-files" class="header-anchor">#</a> HANDLING OF INTEGER DATA FILES</h2> <p>A file named DATA contains a series of integer numbers. Code a program to read these numbers and then write all 'odd' numbers to a file to be called ODD and all `even' numbers to a file to be called EVEN.</p> <span><ins data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6356177594937247" data-ad-slot="2874230806" class="adsbygoogle" style="display:block; text-align:center;"></ins> <div style="display:none;"> 
  (adsbygoogle = window.adsbygoogle || []).push({});
</div></span> <p>It uses three files simultaneously and therefore we need to define three-file pointers f1, f2 and f3.</p> <p>First, the file DATA containing integer values is created. The integer values are read from the terminal and are written to the file DATA with the help of the statement</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token function">putw</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span> f1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Notice that when we type -1, the reading is terminated and the file is closed. The next step is to open all the three files, DATA for reading, ODD and EVEN for writing. The contents of DATA file are read, integer by integer, by the function getw(f1) and written to ODD or EVEN file after an appropriate test. Note that the statement</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token punctuation">(</span>number <span class="token operator">=</span> <span class="token function">getw</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>reads a value, assigns the same to number, and then tests for the end-of-file mark.</p> <p>Finally, the program displays the contents of ODD and EVEN files. It is important to note that the files ODD and EVEN opened for writing are closed before they are reopened for reading.</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property">#<span class="token directive keyword">include</span>                                                 </span>
   <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                                            
   <span class="token punctuation">{</span>                                                                 
       FILE  <span class="token operator">*</span>f1<span class="token punctuation">,</span> <span class="token operator">*</span>f2<span class="token punctuation">,</span> <span class="token operator">*</span>f3<span class="token punctuation">;</span>                                          
       <span class="token keyword">int</span>   number<span class="token punctuation">,</span> i<span class="token punctuation">;</span>                                              
                                                                     
       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Contents of DATA file\n\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          
       f1 <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;DATA&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">/* Create DATA file    */</span>       
       <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">30</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>                                      
       <span class="token punctuation">{</span>
          <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
          <span class="token keyword">if</span><span class="token punctuation">(</span>number <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>                                    
          <span class="token function">putw</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span>                                           
       <span class="token punctuation">}</span>                                                             
       <span class="token function">fclose</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                   
                                                                     
       f1 <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;DATA&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
       f2 <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;ODD&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                       
       f3 <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;EVEN&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
                               
       <span class="token comment">/* Read from DATA file */</span>                                                                 
       <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>number <span class="token operator">=</span> <span class="token function">getw</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> 
       <span class="token punctuation">{</span>
           <span class="token keyword">if</span><span class="token punctuation">(</span>number <span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>                                        
             <span class="token function">putw</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span> f3<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">/*  Write to EVEN file  */</span>   
           <span class="token keyword">else</span>                                                      
             <span class="token function">putw</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span> f2<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">/*  Write to ODD file   */</span>   
       <span class="token punctuation">}</span>                                                             
       <span class="token function">fclose</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                   
       <span class="token function">fclose</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                   
       <span class="token function">fclose</span><span class="token punctuation">(</span>f3<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                   
                                                                     
       f2 <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;ODD&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                        
       f3 <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;EVEN&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n\nContents of ODD file\n\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       
                                                                     
       <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>number <span class="token operator">=</span> <span class="token function">getw</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span>                             
          <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%4d&quot;</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>                                     
       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n\nContents of EVEN file\n\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      
                                                                     
       <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>number <span class="token operator">=</span> <span class="token function">getw</span><span class="token punctuation">(</span>f3<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span>                             
          <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%4d&quot;</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>                                     
                                                                     
       <span class="token function">fclose</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                   
       <span class="token function">fclose</span><span class="token punctuation">(</span>f3<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                   
                                                                     
   <span class="token punctuation">}</span>                                                                 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h3 id="output"><a href="#output" class="header-anchor">#</a> Output</h3> <p>Contents of DATA file 111 222 333 444 555 666 777 888 999 000 121 232 343 454 565 -1</p> <p>Contents of ODD file 111 333 555 777 999 121 343 565</p> <p>Contents of EVEN file 222 444 666 888 0 232 454</p> <h2 id="error-handling-in-file-operations"><a href="#error-handling-in-file-operations" class="header-anchor">#</a> ERROR HANDLING IN FILE OPERATIONS</h2> <h3 id="write-a-program-to-illustrate-error-handling-in-file-operations"><a href="#write-a-program-to-illustrate-error-handling-in-file-operations" class="header-anchor">#</a> Write a program to illustrate error handling in file operations.</h3> <p>The program the use of the NULL pointer test and feof function. When we input filename as TETS, the function call</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;TETS&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>returns a NULL pointer because the file TETS does not exist and therefore the message &quot;Cannot open the file&quot; is printed out.</p> <span><ins data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6356177594937247" data-ad-slot="2874230806" class="adsbygoogle" style="display:block; text-align:center;"></ins> <div style="display:none;"> 
  (adsbygoogle = window.adsbygoogle || []).push({});
</div></span> <p>Similarly, the call feof(fp2) returns a non-zero integer when the entire data has been read, and hence the program prints the message &quot;Ran out of data&quot; and terminates further reading.</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>
<span class="token macro property">#<span class="token directive keyword">include</span>                                               </span>
                                                                    
    <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                                          
    <span class="token punctuation">{</span>                                                               
       <span class="token keyword">char</span>  <span class="token operator">*</span>filename<span class="token punctuation">;</span>                                            
        FILE  <span class="token operator">*</span>fp1<span class="token punctuation">,</span> <span class="token operator">*</span>fp2<span class="token punctuation">;</span>                                           
        <span class="token keyword">int</span>   i<span class="token punctuation">,</span> number<span class="token punctuation">;</span>                                            
                                                                    
        fp1 <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;TEST&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                   
        <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">)</span>                              
           <span class="token function">putw</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> fp1<span class="token punctuation">)</span><span class="token punctuation">;</span>                                            
                                                                    
        <span class="token function">fclose</span><span class="token punctuation">(</span>fp1<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                
                                                                    
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\nInput filename\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               
                                                                    
    open_file<span class="token operator">:</span>                                                      
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
                                                                    
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>fp2 <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>                     
        <span class="token punctuation">{</span>                                                           
           <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot open the file.\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       
           <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Type filename again.\n\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      
           <span class="token keyword">goto</span> open_file<span class="token punctuation">;</span>                                          
        <span class="token punctuation">}</span>                                                           
        <span class="token keyword">else</span>                                                        
                                                                    
        <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>                                    
        <span class="token punctuation">{</span>  number <span class="token operator">=</span> <span class="token function">getw</span><span class="token punctuation">(</span>fp2<span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
           <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">feof</span><span class="token punctuation">(</span>fp2<span class="token punctuation">)</span><span class="token punctuation">)</span>                                            
           <span class="token punctuation">{</span>                                                        
              <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\nRan out of data.\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       
              <span class="token keyword">break</span><span class="token punctuation">;</span>                                                
           <span class="token punctuation">}</span>                                                        
           <span class="token keyword">else</span>                                                     
              <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>                               
        <span class="token punctuation">}</span>                                                           
                                                                    
        <span class="token function">fclose</span><span class="token punctuation">(</span>fp2<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                
    <span class="token punctuation">}</span>                                                               
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="output-2"><a href="#output-2" class="header-anchor">#</a> Output</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>Input filename

 TETS

 Cannot open the file.

 Type filename again.

 TEST

 10

 20

 30

 40
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="appending-items-to-an-existing-file"><a href="#appending-items-to-an-existing-file" class="header-anchor">#</a> APPENDING ITEMS TO AN EXISTING FILE</h2> <p>Write a program to append additional items to the file INVENTORY and print the total contents of the file.</p> <p>It uses a structure definition to describe each item and a function append() to add an item to the file.</p> <p>On execution, the program requests for the filename to which data is to be appended. After appending the items, the position of the last character in the file is assigned to n and then the file is closed.</p> <p>The file is reopened for reading and its contents are displayed. Note that reading and displaying are done under the control of a while loop. The loop tests the current file position against n and is terminated when they become equal.</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>
<span class="token macro property">#<span class="token directive keyword">include</span>                                                </span>
                                                                    
   <span class="token keyword">struct</span> <span class="token class-name">invent_record</span>                                             
   <span class="token punctuation">{</span>
       <span class="token keyword">char</span>   name<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                                             
       <span class="token keyword">int</span>    number<span class="token punctuation">;</span>                                               
       <span class="token keyword">float</span>  price<span class="token punctuation">;</span>                                                
       <span class="token keyword">int</span>    quantity<span class="token punctuation">;</span>                                             
   <span class="token punctuation">}</span><span class="token punctuation">;</span>                                                               
                                                                    
   <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                                           
   <span class="token punctuation">{</span>
       <span class="token keyword">struct</span> <span class="token class-name">invent_record</span> item<span class="token punctuation">;</span>                                   
       <span class="token keyword">char</span>  filename<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                                          
       <span class="token keyword">int</span>   response<span class="token punctuation">;</span>                                              
       FILE  <span class="token operator">*</span>fp<span class="token punctuation">;</span>                                                   
       <span class="token keyword">long</span>  n<span class="token punctuation">;</span>                                                     
       <span class="token keyword">void</span> <span class="token function">append</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">invent_record</span> <span class="token number">8</span>x<span class="token punctuation">,</span> file <span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                             
       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Type filename:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                    
       <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>                                       
                                                                    
       fp <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">&quot;a+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                  
       <span class="token keyword">do</span>                                                           
       <span class="token punctuation">{</span>
          <span class="token function">append</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>item<span class="token punctuation">,</span> fp<span class="token punctuation">)</span><span class="token punctuation">;</span>                                        
          <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\nItem %s appended.\n&quot;</span><span class="token punctuation">,</span>item<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>                
          <span class="token function">printf</span><span class="token punctuation">(</span>&quot;\nDo you want to add another item\                
   		<span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">for</span> YES <span class="token operator">/</span><span class="token number">0</span> <span class="token keyword">for</span> NO<span class="token punctuation">)</span><span class="token operator">?</span>&quot;<span class="token punctuation">)</span><span class="token punctuation">;</span>                                        
          <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>                                   
       <span class="token punctuation">}</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span>response <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                    
                                                                    
       n <span class="token operator">=</span> <span class="token function">ftell</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">/* Position of last character  */</span>        
       <span class="token function">fclose</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                  
                                                                    
       fp <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                   
                            





                                        
       
  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">ftell</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span> <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>                                         
       <span class="token punctuation">{</span>                                                            
          <span class="token function">fscanf</span><span class="token punctuation">(</span>fp<span class="token punctuation">,</span><span class="token string">&quot;%s %d %f %d&quot;</span><span class="token punctuation">,</span>                                  
          item<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token operator">&amp;</span>item<span class="token punctuation">.</span>number<span class="token punctuation">,</span> <span class="token operator">&amp;</span>item<span class="token punctuation">.</span>price<span class="token punctuation">,</span> <span class="token operator">&amp;</span>item<span class="token punctuation">.</span>quantity<span class="token punctuation">)</span><span class="token punctuation">;</span> 
          <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">,</span><span class="token string">&quot;%-8s %7d %8.2f %8d\n&quot;</span><span class="token punctuation">,</span>                    
          item<span class="token punctuation">.</span>name<span class="token punctuation">,</span> item<span class="token punctuation">.</span>number<span class="token punctuation">,</span> item<span class="token punctuation">.</span>price<span class="token punctuation">,</span> item<span class="token punctuation">.</span>quantity<span class="token punctuation">)</span><span class="token punctuation">;</span>    
       <span class="token punctuation">}</span>                                                            
       <span class="token function">fclose</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span>                                                  
   <span class="token punctuation">}</span>                                                                
   <span class="token keyword">void</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">invent_record</span> <span class="token operator">*</span>product<span class="token punctuation">,</span> File <span class="token operator">*</span>ptr<span class="token punctuation">)</span>
   <span class="token punctuation">{</span>                                                                
       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Item name:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                        
       <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span> product<span class="token operator">-&gt;</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>                                  
       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Item number:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                      
       <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>product<span class="token operator">-&gt;</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>                               
       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Item price:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                       
       <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%f&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>product<span class="token operator">-&gt;</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>                                
       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Quantity:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                         
       <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>product<span class="token operator">-&gt;</span>quantity<span class="token punctuation">)</span><span class="token punctuation">;</span>                             
       <span class="token function">fprintf</span><span class="token punctuation">(</span>ptr<span class="token punctuation">,</span> <span class="token string">&quot;%s %d %.2f %d&quot;</span><span class="token punctuation">,</span>                                
                     product<span class="token operator">-&gt;</span>name<span class="token punctuation">,</span>                                 
                     product<span class="token operator">-&gt;</span>number<span class="token punctuation">,</span>                               
                     product<span class="token operator">-&gt;</span>price<span class="token punctuation">,</span>                                
                     product<span class="token operator">-&gt;</span>quantity<span class="token punctuation">)</span><span class="token punctuation">;</span>                            
   <span class="token punctuation">}</span>                                                                
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div><h3 id="output-3"><a href="#output-3" class="header-anchor">#</a> Output</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>Type filename:INVENTORY

Item name:XXX

Item number:444

Item price:40.50

Quantity:34

Item XXX appended.

Do you want to add another item(1 for YES /0 for NO)?1

Item name:YYY

Item number:555

Item price:50.50

Quantity:45

Item YYY appended.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><span><ins data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-6356177594937247" data-ad-slot="2874230806" class="adsbygoogle" style="display:block; text-align:center;"></ins> <div style="display:none;"> 
  (adsbygoogle = window.adsbygoogle || []).push({});
</div></span></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        
        <a href="/learnc/openingfileinc.html" class="prev">
          Opening a file in c
        </a></span> <span class="next"><a href="/learnc/structure-learning-novices-advance-programmer.html">
          Structure Learning for  both novices and advanced programmers
        </a>
        
      </span></p></div> </main></div><div class="global-ui"><div class="reading-progress top" data-v-21b39eda><div class="progress" data-v-21b39eda></div></div><!----></div></div>
    <script src="/assets/js/app.b9d4e7ea.js" defer></script><script src="/assets/js/3.32f2e6ee.js" defer></script><script src="/assets/js/88.6ccebd33.js" defer></script><script src="/assets/js/9.20302103.js" defer></script>
  </body>
</html>
